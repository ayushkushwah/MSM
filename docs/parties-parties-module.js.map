{"version":3,"sources":["webpack:///./src/app/parties/parties.module.ts","webpack:///./src/app/parties/parties.page.html","webpack:///./src/app/parties/parties.page.scss","webpack:///./src/app/parties/parties.page.ts","webpack:///./src/app/shared/services/party.service.ts","webpack:///./src/app/vendors/edit-party/edit-party.component.html","webpack:///./src/app/vendors/edit-party/edit-party.component.scss","webpack:///./src/app/vendors/edit-party/edit-party.component.ts"],"names":[],"mappings":"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","file":"parties-parties-module.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PartiesPage } from './parties.page';\nimport { EditPartyComponent } from '../vendors/edit-party/edit-party.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PartiesPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [PartiesPage, EditPartyComponent],\n  entryComponents: [EditPartyComponent]\n})\nexport class PartiesPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-title>Parties</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button color=\\\"warning\\\" shape=\\\"round\\\" fill=\\\"outline\\\" slot=\\\"primary\\\" (click)=\\\"presentEditPartyModal()\\\">\\n        Add Party\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-searchbar color=\\\"warning\\\" debounce=\\\"1000\\\" placeholder=\\\"Search Party\\\" [(ngModel)]=\\\"searchText\\\"\\n    (ionChange)=\\\"search()\\\" animated showCancelButton>\\n  </ion-searchbar>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col><div><b>Id</b></div></ion-col>\\n      <ion-col><div><b>Name</b></div></ion-col>\\n      <ion-col><div><b>Phone</b></div></ion-col>\\n      <ion-col><div><b>Address</b></div></ion-col>\\n      <ion-col><div><b>Rate</b></div></ion-col>\\n      <ion-col><div><b>Distributor</b></div></ion-col>\\n      <ion-col><div><b>Opening Balance</b></div></ion-col>\\n      <ion-col><div><b>Action</b></div></ion-col>\\n    </ion-row>\\n\\n    <ion-row *ngFor=\\\"let party of parties; let i = index\\\">\\n      <ion-col><div>{{i+1}}</div></ion-col>\\n      <ion-col><div>{{party.name}}</div></ion-col>\\n      <ion-col><div>{{party.contact_no}}</div></ion-col>\\n      <ion-col><div>{{party.address}}</div></ion-col>\\n      <ion-col><div>{{party.rate}}</div></ion-col>\\n      <ion-col><div>{{party.distributor_id}}</div></ion-col>\\n      <ion-col><div>{{party.opening_balance}}</div></ion-col>\\n      <ion-col>\\n        <div>\\n          <ion-button color=\\\"primary\\\" shape=\\\"round\\\" fill=\\\"outline\\\" (click)=\\\"presentEditPartyModal(party)\\\">\\n            <ion-icon name=\\\"create\\\"></ion-icon>\\n          </ion-button>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3BhcnRpZXMvcGFydGllcy5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { EditPartyComponent } from '../vendors/edit-party/edit-party.component';\nimport { PartyService } from '../shared/services/party.service';\n\n@Component({\n  selector: 'app-parties',\n  templateUrl: './parties.page.html',\n  styleUrls: ['./parties.page.scss'],\n})\nexport class PartiesPage implements OnInit {\n  subscriptions: any = [];\n  searchText: string = '';\n  parties: any = [];\n\n  constructor(\n    private _modalController: ModalController,\n    private _partyService: PartyService,\n\n  ) { }\n\n  ngOnInit() {\n    this.getParties();\n  }\n\n  getParties() {\n    this.subscriptions.push(this._partyService.getParties().subscribe(res => {\n      console.log(res);\n      this.parties = res;\n    }))\n  }\n\n  async presentEditPartyModal(party) {\n    const modal = await this._modalController.create({\n      component: EditPartyComponent,\n      componentProps: { party: party },\n      backdropDismiss: false\n    });\n    modal.onDidDismiss().then(data => {\n      this.getParties();\n    })\n    return await modal.present();\n  }\n\n  search() {\n    console.log(this.searchText);\n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { throwError } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { LoadingController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PartyService {\n\n  constructor(\n    private http: Http,\n    private _loadingController: LoadingController\n  ) { }\n\n  getParties(id = 0) {\n    let loader = this.getLoader();\n    this.presentLoading(loader);\n    return this.http.get(`https://cpsm.azurewebsites.net/public/index.php/get/party/${id}`)\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dismissLoading(loader);\n          return response.json();\n        }),\n        catchError(error => {\n          console.log(error);\n          this.dismissLoading(loader);\n          return throwError(error);\n        })\n      );\n  }\n\n  addParty(party) {\n    let loader = this.getLoader();\n    this.presentLoading(loader);\n    return this.http.post(`https://cpsm.azurewebsites.net/public/index.php/post/party`, party)\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dismissLoading(loader);\n          return response.json();\n        }),\n        catchError(error => {\n          console.log(error);\n          this.dismissLoading(loader);\n          return throwError(error);\n        })\n      );\n  }\n\n  updateParty(party) {\n    let loader = this.getLoader();\n    this.presentLoading(loader);\n    return this.http.put(`https://cpsm.azurewebsites.net/public/index.php/put/party/${party.party_id}`, party)\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dismissLoading(loader);\n          return response.json();\n        }),\n        catchError(error => {\n          console.log(error);\n          this.dismissLoading(loader);\n          return throwError(error);\n        })\n      );\n  }\n\n  async getLoader() {\n    return await this._loadingController.create({\n      spinner: 'lines'\n    });\n  }\n\n  presentLoading(loader) {\n    loader.then(l => {\n      l.present();\n    })\n  }\n\n  dismissLoading(loader) {\n    loader.then(l => {\n      l.dismiss();\n    })\n  }\n}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-title>Add New Party</ion-title>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button color=\\\"danger\\\" shape=\\\"round\\\" fill=\\\"outline\\\" (click)=\\\"onCancel()\\\">\\n        <ion-icon name=\\\"close\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <form [formGroup]=\\\"partyForm\\\">\\n    <ion-item>\\n      <ion-label>Party Name</ion-label>\\n      <ion-input placeholder=\\\"Party Name\\\" formControlName=\\\"name\\\" maxlength=\\\"50\\\" clearInput>\\n      </ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>Phone Number</ion-label>\\n      <ion-input appNumberOnlyInputs placeholder=\\\"Phone Number\\\" maxlength=\\\"14\\\" formControlName=\\\"contact_no\\\" clearInput>\\n      </ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>Address</ion-label>\\n      <ion-textarea placeholder=\\\"Address\\\" formControlName=\\\"address\\\" maxlength=\\\"100\\\" clearInput>\\n      </ion-textarea>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>Rate ₹</ion-label>\\n      <ion-input placeholder=\\\"Rate\\\" formControlName=\\\"rate\\\" maxlength=\\\"8\\\" clearInput>\\n      </ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>Distributor</ion-label>\\n      <ion-select placeholder=\\\"Select One\\\" formControlName=\\\"distributor_id\\\">\\n        <ion-select-option value=\\\"\\\" disabled>Select Distributor</ion-select-option>\\n        <ion-select-option value=\\\"1\\\">Ayush</ion-select-option>\\n        <ion-select-option value=\\\"2\\\">Divyansh</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label>Opening Balance ₹</ion-label>\\n      <ion-input placeholder=\\\"Opening Balance\\\" formControlName=\\\"opening_balance\\\" maxlength=\\\"8\\\" clearInput>\\n      </ion-input>\\n    </ion-item>\\n\\n  </form>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-button [disabled]=\\\"!partyForm.valid\\\" class=\\\"ion-float-right\\\" color=\\\"success\\\" shape=\\\"round\\\" fill=\\\"outline\\\"\\n    (click)=\\\"onSave()\\\">\\n    <ion-icon name=\\\"save\\\"></ion-icon>\\n    <span>Save</span>\\n  </ion-button>\\n</ion-footer>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3ZlbmRvcnMvZWRpdC1wYXJ0eS9lZGl0LXBhcnR5LmNvbXBvbmVudC5zY3NzIn0= */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\nimport { ModalController, ToastController } from '@ionic/angular';\nimport { PartyService } from 'src/app/shared/services/party.service';\n\n@Component({\n  selector: 'app-edit-party',\n  templateUrl: './edit-party.component.html',\n  styleUrls: ['./edit-party.component.scss'],\n})\nexport class EditPartyComponent implements OnInit {\n  subscriptions: any = [];\n  @Input() party;\n  partyForm: FormGroup;\n\n  constructor(\n    private _fb: FormBuilder,\n    private _modalController: ModalController,\n    private _partyService: PartyService,\n    private _toastController: ToastController\n  ) {\n    this.partyForm = _fb.group({\n      party_id: new FormControl(0),\n      name: new FormControl('', Validators.required),\n      contact_no: new FormControl('', Validators.required),\n      address: new FormControl('', Validators.required),\n      rate: new FormControl('', Validators.required),\n      distributor_id: new FormControl('', Validators.required),\n      opening_balance: new FormControl('', Validators.required),\n    })\n   }\n\n  ngOnInit() {\n    console.log(this.party);\n    if (this.party && this.party.party_id) this.getParties(this.party.party_id);\n  }\n\n  getParties(partyId) {\n    this.subscriptions.push(this._partyService.getParties(partyId).subscribe(res => {\n      console.log(res);\n      this.party = res[0];\n      this.partyForm.patchValue(this.party);\n    }))\n  }\n\n  onSave() {\n    console.log(this.partyForm.value);\n    if (this.party) this.updateParty(this.partyForm.value)\n    else this.addParty(this.partyForm.value);\n  }\n  \n  updateParty(party) {\n    this.subscriptions.push(this._partyService.updateParty(party).subscribe(res => {\n      if (res && res.success) {\n        this.onSuccess(\"Updated\");\n      } else {\n        this.onError(\"Error\");\n      }\n      this.onClose();\n    }, err => {\n      this.onError(\"Error\");\n      this.onClose();        \n    }))\n    this.onClose();\n  }\n\n  addParty(party) {\n    this.subscriptions.push(this._partyService.addParty(party).subscribe(res => {\n      if (res && res.success) {\n        this.onSuccess(\"Added\")\n      } else {\n        this.onError(\"Error\");\n      }\n      this.onClose();\n    }, err => {\n      this.onError(\"Error\");\n      this.onClose();\n    }))\n  }\n\n  onCancel() {\n    this.onClose();\n  }\n\n  onClose() {\n    this._modalController.dismiss();\n  }\n\n  async onSuccess(message) {\n    const toast = await this._toastController.create({\n      message: message,\n      duration: 2000,\n      color: 'success',\n    });\n    toast.present();\n  }\n\n  async onError(message) {\n    const toast = await this._toastController.create({\n      message: message,\n      duration: 2000,\n      color: 'danger',\n    });\n    toast.present();\n  }\n}\n"],"sourceRoot":""}