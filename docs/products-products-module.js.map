{"version":3,"sources":["webpack:///./src/app/products/edit-product/edit-product.component.html","webpack:///./src/app/products/edit-product/edit-product.component.scss","webpack:///./src/app/products/edit-product/edit-product.component.ts","webpack:///./src/app/products/products.module.ts","webpack:///./src/app/products/products.page.html","webpack:///./src/app/products/products.page.scss","webpack:///./src/app/products/products.page.ts","webpack:///./src/app/shared/services/product.service.ts"],"names":[],"mappings":"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","file":"products-products-module.js","sourcesContent":["module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-title>{{ product ? 'Update Product' : 'Add New Product' }}</ion-title>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button color=\\\"danger\\\" shape=\\\"round\\\" fill=\\\"outline\\\" (click)=\\\"onCancel()\\\">\\n        <ion-icon name=\\\"close\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <form [formGroup]=\\\"productForm\\\">\\n\\n    <ion-item>\\n      <ion-label><b>Name</b></ion-label>\\n      <ion-input placeholder=\\\"Product Name\\\" formControlName=\\\"name\\\" maxlength=\\\"50\\\" clearInput>\\n      </ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label><b>Rate â‚¹</b></ion-label>\\n      <ion-input placeholder=\\\"Rate\\\" formControlName=\\\"rate\\\" maxlength=\\\"50\\\" clearInput>\\n      </ion-input>\\n    </ion-item>\\n\\n    <ion-item>\\n      <ion-label><b>Unit</b></ion-label>\\n      <ion-select placeholder=\\\"Select One\\\" formControlName=\\\"unit\\\">\\n        <ion-select-option value=\\\"\\\" disabled>Select Unit</ion-select-option>\\n        <ion-select-option value=\\\"KG\\\">Kilogram</ion-select-option>\\n        <ion-select-option value=\\\"L\\\">Litres</ion-select-option>\\n        <ion-select-option value=\\\"PCS\\\">Pieces</ion-select-option>\\n      </ion-select>\\n    </ion-item>\\n\\n  </form>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-button [disabled]=\\\"!productForm.valid\\\" class=\\\"ion-float-right\\\" color=\\\"success\\\" shape=\\\"round\\\" fill=\\\"outline\\\" (click)=\\\"onSave()\\\">\\n    <ion-icon name=\\\"save\\\"></ion-icon>\\n    <span>Save</span>\\n  </ion-button> \\n</ion-footer>\\n\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb2R1Y3RzL2VkaXQtcHJvZHVjdC9lZGl0LXByb2R1Y3QuY29tcG9uZW50LnNjc3MifQ== */\"","import { Component, OnInit, Input } from '@angular/core';\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\nimport { ModalController, ToastController } from '@ionic/angular';\nimport { ProductService } from 'src/app/shared/services/product.service';\n\n@Component({\n  selector: 'app-edit-product',\n  templateUrl: './edit-product.component.html',\n  styleUrls: ['./edit-product.component.scss'],\n})\nexport class EditProductComponent implements OnInit {\n  subscriptions: any = [];\n  @Input() product;\n  productForm: FormGroup;\n\n  constructor(\n    private _fb: FormBuilder,\n    private _modalController: ModalController,\n    private _productService: ProductService,\n    private _toastController: ToastController\n  ) { \n    this.productForm = _fb.group({\n      product_id: new FormControl(0),\n      name: new FormControl('', Validators.required),\n      rate: new FormControl(0, Validators.required),\n      unit: new FormControl('', Validators.required),\n    })\n  }\n\n  ngOnInit() {\n    console.log(this.product);\n    if (this.product && this.product.product_id) this.getProducts(this.product.product_id);\n  }\n\n  getProducts(productId) {\n    this.subscriptions.push(this._productService.getProducts(productId).subscribe(res => {\n      console.log(res);\n      this.product = res[0];\n      this.productForm.patchValue(this.product);\n    }))\n  }\n\n  onSave() {\n    console.log(this.productForm.value);\n    if (this.product) this.updateProducts(this.productForm.value)\n    else this.addProduct(this.productForm.value);\n  }\n\n  updateProducts(product) {\n    this.subscriptions.push(this._productService.updateProduct(product).subscribe(res => {\n      if (res && res.success) {\n        this.onSuccess(\"Updated\")\n      } else {\n        this.onError(\"Error\");\n      }\n      this.onClose();\n    }, err => {\n      this.onError(\"Error\");\n      this.onClose();        \n    }))\n  }\n\n  addProduct(product) {\n    this.subscriptions.push(this._productService.addProduct(product).subscribe(res => {\n      if (res && res.success) {\n        this.onSuccess(\"Added\");\n      } else {\n        this.onError(\"Error\");\n      }\n      this.onClose();\n    }, err => {\n      this.onError(\"Error\");\n      this.onClose();\n    }))\n  }\n\n  onCancel() {\n    this.onClose();\n  }\n\n  onClose() {\n    this._modalController.dismiss();\n  }\n\n  async onSuccess(message) {\n    const toast = await this._toastController.create({\n      message: message,\n      duration: 2000,\n      color: 'success',\n    });\n    toast.present();\n  }\n\n  async onError(message) {\n    const toast = await this._toastController.create({\n      message: message,\n      duration: 2000,\n      color: 'danger',\n    });\n    toast.present();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProductsPage } from './products.page';\nimport { EditProductComponent } from './edit-product/edit-product.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProductsPage\n  }\n];\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    RouterModule.forChild(routes)\n  ],\n  declarations: [ProductsPage, EditProductComponent],\n  entryComponents: [EditProductComponent]\n})\nexport class ProductsPageModule {}\n","module.exports = \"<ion-header>\\n  <ion-toolbar color=\\\"dark\\\">\\n    <ion-title>Products</ion-title>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-buttons slot=\\\"primary\\\">\\n      <ion-button color=\\\"warning\\\" shape=\\\"round\\\" fill=\\\"outline\\\" (click)=\\\"presentEditProductModal()\\\">\\n        Add Product\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-searchbar color=\\\"warning\\\" debounce=\\\"1000\\\" placeholder=\\\"Search Products\\\" [(ngModel)]=\\\"searchText\\\"\\n    (ionChange)=\\\"search()\\\" animated showCancelButton>\\n  </ion-searchbar>\\n\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col><div><b>Id</b></div></ion-col>\\n      <ion-col><div><b>Product</b></div></ion-col>\\n      <ion-col><div><b>Rate</b></div></ion-col>\\n      <ion-col><div><b>Unit</b></div></ion-col>\\n      <ion-col><div><b>Action</b></div></ion-col>\\n    </ion-row>\\n\\n    <ion-row *ngFor=\\\"let product of products; let i = index;\\\">\\n      <ion-col><div>{{i+1}}</div></ion-col>\\n      <ion-col><div>{{product.name}}</div></ion-col>\\n      <ion-col><div>{{product.rate}}</div></ion-col>\\n      <ion-col><div>{{product.unit}}</div></ion-col>\\n      <ion-col>\\n        <div>\\n          <ion-button color=\\\"primary\\\" shape=\\\"round\\\" fill=\\\"outline\\\" (click)=\\\"presentEditProductModal(product)\\\">\\n            <ion-icon name=\\\"create\\\"></ion-icon>\\n          </ion-button>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n</ion-content>\"","module.exports = \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Byb2R1Y3RzL3Byb2R1Y3RzLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ModalController } from '@ionic/angular';\nimport { EditProductComponent } from './edit-product/edit-product.component';\nimport { ProductService } from '../shared/services/product.service';\n\n@Component({\n  selector: 'app-products',\n  templateUrl: './products.page.html',\n  styleUrls: ['./products.page.scss'],\n})\nexport class ProductsPage implements OnInit {\n  subscriptions: any = [];\n  searchText: string = '';\n  products: any = [];\n\n  constructor(\n    private _modalController: ModalController,\n    private _productService: ProductService\n  ) { }\n\n  ngOnInit() {\n    this.getProducts();\n  }\n\n  getProducts() {\n    this.subscriptions.push(this._productService.getProducts().subscribe(res => {\n      console.log(res);\n      this.products = res;\n    }))\n  }\n\n  async presentEditProductModal(product) {\n    const modal = await this._modalController.create({\n      component: EditProductComponent,\n      componentProps: { product: product },\n      backdropDismiss: false\n    });\n    modal.onDidDismiss().then(data => {\n      this.getProducts();\n    })\n    return await modal.present();\n  }\n\n  search() {\n    console.log(this.searchText);\n  }\n\n  ngOnDestroy(): void {\n    \n  }\n\n}\n","import { Injectable } from '@angular/core';\nimport { Http } from '@angular/http';\nimport { throwError } from 'rxjs';\nimport { map, catchError } from 'rxjs/operators';\nimport { LoadingController } from '@ionic/angular';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ProductService {\n\n  constructor(\n    private http: Http,\n    private _loadingController: LoadingController\n  ) { }\n\n  getProducts(id = 0) {\n    let loader = this.getLoader();\n    this.presentLoading(loader);\n    return this.http.get(`https://cpsm.azurewebsites.net/public/index.php/get/product/${id}`)\n      .pipe(\n        map(response => {\n          console.log(response);\n          this.dismissLoading(loader);\n          return response.json();\n        }),\n        catchError(error => {\n          console.log(error);\n          this.dismissLoading(loader);\n          return throwError(error);\n        })\n      );\n  }\n\n  addProduct(product) {\n    let loader = this.getLoader();\n    this.presentLoading(loader);\n    return this.http.post(`https://cpsm.azurewebsites.net/public/index.php/post/product`, product)\n      .pipe(\n        map(response => { \n          console.log(response);\n          this.dismissLoading(loader);\n          return response.json();\n         }),\n        catchError(error => {\n          console.log(error);\n          this.dismissLoading(loader);          \n          return throwError(error);\n        })\n      );\n  }\n\n\n  updateProduct(product) {\n    let loader = this.getLoader();\n    this.presentLoading(loader);\n    return this.http.put(`https://cpsm.azurewebsites.net/public/index.php/put/product/${product.product_id}`, product)\n      .pipe(\n        map(response => { \n          console.log(response);\n          this.dismissLoading(loader);\n          return response.json();\n         }),\n        catchError(error => {\n          console.log(error);\n          this.dismissLoading(loader);\n          return throwError(error);\n        })\n      );\n  }\n\n  async getLoader() {\n    return await this._loadingController.create({\n      spinner: 'lines'\n    });\n  }\n\n  presentLoading(loader) {\n    loader.then(l => {\n      l.present();\n    })\n  }\n\n  dismissLoading(loader) {\n    loader.then(l => {\n      l.dismiss();\n    })\n  }\n\n}\n"],"sourceRoot":""}